### CH. 11 원시 값과 객체의 비교

- 원시 타입과 객체 타입은 크게 세 가지 측면에서 다르다.
    1. 원시 값은 **변경 불가능한 값**
    객체는 **변경 가능한 값**
    2. 원시 값을 변수에 할당하면 **변수(확보된 메모리 공간)에는 실제 값이 저장**
    객체를 변수에 할당하면 **변수(확보된 메모리 공간)에는 참조 값이 저장**
    3. 원시 값을 갖는 변수를 다른 변수에 할당하면 원본의 **원시 값이 복사되어 전달 ( 값에 의한 전달 )**
    객체를 가리키는 변수를 다른 변수에 할당하면 **원본의 참조 값이 복사되어 전달 ( 참조에 의한 전달 )**
- 원시 값
    - 원시 값이 **변경 불가능하다는 것**은 변수가 아니라 **값에 대한 진술**이다.
    - 값의 불변성으로 인해, 
    **불변성을 갖는 원시 값을 할당한 변수는 재할당 이외에 변수 값을 변경할 수 있는 방법이 없다.**
    - 문자열은 유사 배열 객체이면서 이터러블이므로 배열과 유사하게 각 문자에 접근할 수 있다 ( 하지만 **원시 값**이다. )
        
        ```
        var str = 'string';
        
        console.log(str[0]); // s
        console.log(str.length); // 6
        console.log(str.toUpperCase()); // STRING
        
        // 문자열은 유사 배열 객체이지만 변경 불가능한 값이다.
        // 문자열을 수정할 경우 에러가 발생하지 않는다.
        str[0] = 'S'; //
        console.log(str[0]); // string
        ```
        
        - 변수에 새로운 문자열을 재할당하는 것은 물론 가능하다. 하지만, 이는 기존 문자열을 변경하는 것이 아니라 새로운 문자열을 새롭게 할당하는 것이다.
    - “값에 의한 전달” 이라는 용어는 자바스크립트를 위한 용어가 아니므로 오해가 있을 수 있다.
    엄격히 말하면 ********변수에는 값이 전달되는 것이 아니라 메모리 주소가 전달된다.
    이는 변수와 같은 식별자는 값이 아니라 메모리 주소를 기억하고 있기 때문이다.********
        - 변수에 원시 값을 갖는 변수를 할당하면, 
        **두 변수의 원시 값**은 서로 다른 메모리 공간에 저장된 별개의 값이 되어 어느 한쪽에서 재할당을 통해 값을 변경하더라도 **서로 간섭할 수 없다**.
- 객체
    - 객체를 할당한 변수가 기억하는 메모리 주소를 통해 메모리 공간에 접근하면 **********************참조 값(reference value)**********************에 접근할 수 있다.
    참조 값은 생성된 객체가 저장된 메모리 공간의 주소, 그 자체이다.
    - 객체를 할당한 변수는 재할당 없이 객체를 직접 변경할 수 있다.
    **재할당 없이 프로퍼티를 동적으로 추가할 수도 있고,
    프로퍼티 값을 갱신할 수도 있으며,
    프로퍼티 자체를 삭제할 수도 있다.**
    - 객체를 생성하고 관리하는 방식은 매우 복잡하고 비용이 많이 드는 일이다.
    따라서, 메모리를 효율적으로 사용하기 위해, 객체를 복사해 생성하는 비용을 절약하여 성능을 향상시키기 위해 **객체는 변경 가능한 값으로 설계**되어 있다.
        
        ![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/95b9b438-1bb3-4411-9190-a223d150d67b/Untitled.png)
        
        - 객체의 이러한 구조적 단점에 따른 부작용이 있다.
        ⇒ 원시 값과는 다르게 ******************************************************************************************************************************************여러 개의 식별자가 하나의 객체를 공유할 수 있다는 점******************************************************************************************************************************************이다.
        - 두 개의 식별자가 하나의 객체를 공유한다는 것은 원본 또는 사본 중 어느 한쪽에서 객체를 변경(프로퍼티 값을 변경 or 추가 or 삭제 )하면 서로 영향을 주고받는다.
        → 이는 예기치 않은 오류를 발생시킬 수 있다.
        → 해결책으로 얕은 복사와 깊은 복사( 객체에서의 얕은 복사는 한 단계까지만 복사, 깊은 복사는 객체에 중첩되어 있는 객체까지 모두 복사 )로, 원본과 아예 다른 객체를 생성하는 것.
    - “값에 의한 전달”과 “참조에 의한 전달”은 식별자가 기억하는 메모리 공간에 저장되어 있는 값을 복사해서 전달한다는 면에서 동일하다.
    → 다만 변수에 저장되어 있는 값이 원시 값이냐, 참조 값이냐의 차이만 있으므로
        자바스크립트에는 “참조에 의한 전달”은 존재하지 않고 “값에 의한 전달”만 존재한다고 볼 수 있다.
    → 하지만 “공유에 의한 전달”이라고 표현하는 경우도 있고, 이 용어 또한 자바스크립트의 **동작 방식을 정확히 설명하지는 못한다.**
    - 이 책에서는 그저 전달되는 값의 종류가 
    **원시값 ⇒ 값에 의한 전달
    참조값 ⇒ 참조에 의한 전달**
    로 구분해 부르는 것 뿐.(JS에는 포인터가 존재하지 않기 때문에 포인터가 존재하는 다른 프로그래밍 언어의 “참조에 의한 전달”과는 의미가 정확히 일치하지 않는다.)